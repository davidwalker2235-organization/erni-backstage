Index: outputs.tf
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>output \"backstage_service_principal_object_id\" {\n  value = azuread_service_principal.service_principal.object_id\n}\n\noutput \"backstage_service_principal_id\" {\n  value = azurerm_app_service.backstage_app.identity[0].principal_id\n}\n\noutput \"backstage_app_outbound_ips\" {\n  value = azurerm_app_service.backstage_app.outbound_ip_addresses\n}\n\noutput \"backstage_rg_name\" {\n  value = azurerm_resource_group.backstage_rg.name\n}\n\noutput \"backstage_postgresql_name\" {\n  value = azurerm_postgresql_server.backstage_postgresql.name\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/outputs.tf b/outputs.tf
--- a/outputs.tf	(revision ca01918ebe7d65815c2385d62aa7f09c241549e0)
+++ b/outputs.tf	(date 1708701743913)
@@ -1,6 +1,6 @@
-output "backstage_service_principal_object_id" {
-  value = azuread_service_principal.service_principal.object_id
-}
+#output "backstage_service_principal_object_id" {
+#  value = azuread_service_principal.service_principal.object_id
+#}
 
 output "backstage_service_principal_id" {
   value = azurerm_app_service.backstage_app.identity[0].principal_id
Index: vars.tf
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+># Environment, for example \"prod\" or \"test\"\nvariable \"environment\" {\n    type = string\n    default = \"prod\"\n}\n\n# The name of your new service, for example \"backstage\"\nvariable \"service_name\" {\n    type = string\n    default = \"ernibackstage\"\n}\n\n# Change this to match whatever suits you best\nvariable \"location\" {\n    type = string\n    default = \"West Europe\"\n}\n\n# An admin password for your database\nvariable \"db_admin_password\" {\n    type = string\n    default = \"Dacarma@9211\"\n}\n\nvariable \"db_admin_username\" {\n    type = string\n    default = \"backstage\"\n}\n\nvariable \"github_organization\" {\n    type = string\n    default = \"davidwalker2235-organization\"\n}\n\nvariable \"github_backstage_appid\" {\n    type = string\n    default = \"828233\"\n}\n\nvariable \"github_backstage_clientId\" {\n    type = string\n    default = \"Iv1.070a80f1762cab18\"\n}\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/vars.tf b/vars.tf
--- a/vars.tf	(revision ca01918ebe7d65815c2385d62aa7f09c241549e0)
+++ b/vars.tf	(date 1708703716484)
@@ -27,11 +27,21 @@
     default = "backstage"
 }
 
+variable "github_token" {
+    type = string
+    default = "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"
+}
+
 variable "github_organization" {
     type = string
     default = "davidwalker2235-organization"
 }
 
+variable "github_repository_name" {
+    type = string
+    default = "erni-backstage"
+}
+
 variable "github_backstage_appid" {
     type = string
     default = "828233"
@@ -41,3 +51,88 @@
     type = string
     default = "Iv1.070a80f1762cab18"
 }
+
+variable "github_backstage_clientSecret" {
+    type = string
+    default = "Ffb6c39a026e53dba549affdb09170aa2ab89809"
+}
+
+variable "azure_subscription_id" {
+    type = string
+    default = "70e356bf-9061-41cb-8a82-d3fe0361603b"
+}
+
+variable "azure_tenant_id" {
+    type = string
+    default = "eb25818e-5bd5-49bf-99de-53e3e7b42630"
+}
+
+variable "azure_client_id" {
+    type = string
+    default = "f2bece22-8055-4579-af8a-1220755d2cc3"
+}
+
+variable "azure_client_secret" {
+    type = string
+    default = "FGa8Q~FgW1XGAzuQ-o.kVKAB1BQbsiyrh_suYbvC"
+}
+
+variable "container_registry_login_server" {
+    type = string
+    default = "backstagecontainer.azurecr.io"
+}
+
+variable "container_registry_username" {
+    type = string
+    default = "backstagecontainer"
+}
+
+variable "container_registry_password" {
+    type = string
+    default = "X4DG/cisOtQf634v2RC6T7LF1U4R7IDM3TB7MRoInX+ACRA/y6Ls"
+}
+
+variable "github_app_id" {
+    type = string
+    default = 828233
+}
+
+variable "github_app_client_id" {
+    type = string
+    default = "Iv1.070a80f1762cab18"
+}
+
+variable "github_app_client_secret" {
+    type = string
+    default = "Ffb6c39a026e53dba549affdb09170aa2ab89809"
+}
+
+variable "postgres_host" {
+    type = string
+    default = "ernibackstagepsql.postgres.database.azure.com"
+}
+
+variable "postgres_port" {
+    type = string
+    default = 5432
+}
+
+variable "postgres_user" {
+    type = string
+    default = "postgres@ernibackstageprodpsql"
+}
+
+variable "postgres_password" {
+    type = string
+    default = "Dacarma@9211"
+}
+
+variable "docker_registry_username" {
+    type = string
+    default = "backstagecontainer"
+}
+
+variable "docker_registry_password" {
+    type = string
+    default = "X4DG/cisOtQf634v2RC6T7LF1U4R7IDM3TB7MRoInX+ACRA/y6Ls"
+}
\ No newline at end of file
Index: main.tf
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>terraform {\n  required_providers {\n    azurerm = {\n      source = \"hashicorp/azurerm\"\n      version = \"2.89.0\"\n    }\n    azuread = {\n      source = \"hashicorp/azuread\"\n      version = \"2.12.0\"\n    }\n    github = {\n      source = \"integrations/github\"\n      version = \"4.19.0\"\n    }\n  }\n}\n\nprovider \"azurerm\" {\n  features {}\n}\n\nprovider \"azuread\" {\n}\n\nprovider \"github\" {\n  owner = \"davidwalker2235-organization\" # Insert your own org name here\n  #app_auth { }\n}\n\n# I use \"abcd\" as my \"company name\" here as an example, substitute for anything you want.\n# Combining this name_prefix with resource type in names later on enforces good naming practices for the Azure resources.\n\nlocals {\n  custom_domain = \"${var.service_name}-${var.environment}.azurewebsites.net\"\n  name_prefix = \"${var.environment}${var.service_name}\"\n  app_service_ip_address = distinct(split(\",\", azurerm_app_service.backstage_app.outbound_ip_addresses))\n}\n\ndata \"azurerm_client_config\" \"current\" { }\n\nresource \"azurerm_resource_group\" \"backstage_rg\" {\n  name     = \"${local.name_prefix}rg\"\n  location = var.location\n}\n\nresource \"azuread_application\" \"backstage_application\" {\n  display_name = \"${local.name_prefix}service\"\n\n  web {\n    redirect_uris = [\n      \"https://${local.custom_domain}/api/auth/microsoft/handler/frame\"\n    ]\n  }\n}\n\nresource \"azuread_service_principal\" \"service_principal\" {\n  application_id = azuread_application.backstage_application.application_id\n}\n\nresource \"azuread_application_password\" \"backstage_app_password\" {\n  application_object_id = azuread_application.backstage_application.object_id\n  end_date              = \"2099-01-01T01:02:03Z\"\n}\n\nresource \"azurerm_storage_account\" \"techdocs_storage\" {\n  name                     = \"${local.name_prefix}storage\"\n  resource_group_name      = azurerm_resource_group.backstage_rg.name\n  location                 = azurerm_resource_group.backstage_rg.location\n  allow_blob_public_access = false\n  account_tier             = \"Standard\"\n  account_replication_type = \"GRS\"\n}\n\nresource \"azurerm_storage_container\" \"techdocs_storage_container\" {\n  name                  = \"${local.name_prefix}techdocs\"\n  storage_account_name  = azurerm_storage_account.techdocs_storage.name\n  container_access_type = \"private\"\n}\n\nresource \"azurerm_role_assignment\" \"service_principal_storage_access\" {\n  scope                = azurerm_storage_account.techdocs_storage.id\n  role_definition_name = \"Storage Blob Data Owner\"\n  principal_id         = azuread_service_principal.service_principal.object_id\n}\n\nresource \"azurerm_application_insights\" \"app_insights\" {\n  name                = \"${local.name_prefix}appi\"\n  location            = azurerm_resource_group.backstage_rg.location\n  resource_group_name = azurerm_resource_group.backstage_rg.name\n  application_type    = \"other\"\n}\n\nresource \"azurerm_app_service_plan\" \"backstage_app_plan\" {\n  name                = \"${local.name_prefix}plan\"\n  location            = azurerm_resource_group.backstage_rg.location\n  resource_group_name = azurerm_resource_group.backstage_rg.name\n  kind                = \"Linux\"\n  reserved            = true\n\n  sku {\n    tier = \"Basic\"\n    size = \"B1\"\n  }\n}\n\nresource \"azurerm_postgresql_server\" \"backstage_postgresql\" {\n  name                = \"${local.name_prefix}psql\"\n  location            = azurerm_resource_group.backstage_rg.location\n  resource_group_name = azurerm_resource_group.backstage_rg.name\n\n  sku_name = \"B_Gen5_1\"\n\n  storage_mb                   = 5120\n  backup_retention_days        = 7\n  geo_redundant_backup_enabled = false\n  auto_grow_enabled            = false\n\n  administrator_login          = var.db_admin_username\n  administrator_login_password = var.db_admin_password\n  version                      = \"11\"\n  ssl_enforcement_enabled      = true\n}\n\nresource \"azurerm_postgresql_database\" \"backstage_postgresql_database\" {\n  name                = \"docs\"\n  resource_group_name = azurerm_resource_group.backstage_rg.name\n  server_name         = azurerm_postgresql_server.backstage_postgresql.name\n  charset             = \"UTF8\"\n  collation           = \"en-US\"\n}\n\nresource \"azurerm_app_service\" \"backstage_app\" {\n  name                = \"${local.name_prefix}app\"\n  location            = azurerm_resource_group.backstage_rg.location\n  resource_group_name = azurerm_resource_group.backstage_rg.name\n  app_service_plan_id = azurerm_app_service_plan.backstage_app_plan.id\n\n  identity {\n    type = \"SystemAssigned\"\n  }\n\n  app_settings = {\n    \"AZURE_CLIENT_ID\" = azuread_application.backstage_application.application_id\n    \"AZURE_CLIENT_SECRET\" = azuread_application_password.backstage_app_password.value\n    \"AZURE_TENANT_ID\" = data.azurerm_client_config.current.tenant_id\n    \"POSTGRES_HOST\" = azurerm_postgresql_server.backstage_postgresql.fqdn\n    \"POSTGRES_PORT\" = 5432\n    \"POSTGRES_USER\" = \"${var.db_admin_username}@${azurerm_postgresql_server.backstage_postgresql.fqdn}\"\n    \"POSTGRES_PASSWORD\" = var.db_admin_password\n    \"APPINSIGHTS_INSTRUMENTATIONKEY\" = azurerm_application_insights.app_insights.instrumentation_key\n    \"DOCKER_REGISTRY_SERVER_USERNAME\" = azuread_application.backstage_application.application_id\n    \"DOCKER_REGISTRY_SERVER_PASSWORD\" = azuread_application_password.backstage_app_password.value\n    \"CUSTOM_DOMAIN\" = local.custom_domain\n    \"TECHDOCS_CONTAINER_NAME\" = azurerm_storage_container.techdocs_storage_container.name\n    \"TECHDOCS_STORAGE_ACCOUNT\" = azurerm_storage_account.techdocs_storage.name\n  }\n}\n\nresource \"azurerm_role_assignment\" \"app_service_contributor_role_assignment\" {\n  scope                = azurerm_app_service.backstage_app.id\n  role_definition_name = \"Contributor\"\n  principal_id         = azuread_service_principal.service_principal.object_id\n}\n\nresource \"azuread_application\" \"container_registry_contributor\" {\n  display_name = \"${local.name_prefix}crcservice\"\n}\n\nresource \"azuread_service_principal\" \"cr_contributor_service_principal\" {\n  application_id = azuread_application.container_registry_contributor.application_id\n  tags           = [\"container registry\", \"docker\", \"github\"]\n}\n\nresource \"azuread_application_password\" \"cr_contributor_service_principal_password\" {\n  application_object_id = azuread_application.container_registry_contributor.object_id\n  end_date              = \"2099-02-01T01:02:03Z\"\n}\n\nresource \"azurerm_container_registry\" \"acr\" {\n  name                = \"${local.name_prefix}acr\"\n  resource_group_name = azurerm_resource_group.backstage_rg.name\n  location            = azurerm_resource_group.backstage_rg.location\n  sku                 = \"Basic\"\n  admin_enabled       = false\n}\n\nresource \"azurerm_role_assignment\" \"container_registry_contributor_role_assignment\" {\n  scope                = azurerm_container_registry.acr.id\n  role_definition_name = \"Contributor\"\n  principal_id         = azuread_service_principal.cr_contributor_service_principal.object_id\n}\n\nresource \"azurerm_role_assignment\" \"backstage_app_service_principal_acr_role_assignment\" {\n  scope                = azurerm_container_registry.acr.id\n  role_definition_name = \"Reader\"\n  principal_id         = azuread_service_principal.service_principal.id\n}\n\nresource \"azurerm_role_assignment\" \"backstage_app_service_principal_acr_acrpull_role_assignment\" {\n  scope                = azurerm_container_registry.acr.id\n  role_definition_name = \"AcrPull\"\n  principal_id         = azuread_service_principal.service_principal.id\n}\n\nresource \"azurerm_role_assignment\" \"backstage_service_principal_acr_acrpull_role_assignment\" {\n  scope                = azurerm_container_registry.acr.id\n  role_definition_name = \"AcrPull\"\n  principal_id         = azuread_service_principal.service_principal.id\n}\n\nresource \"github_actions_organization_secret\" \"registry_login_server\" {\n  secret_name     = \"REGISTRY_LOGIN_SERVER\"\n  visibility      = \"private\"\n  plaintext_value = azurerm_container_registry.acr.login_server\n}\n\nresource \"github_actions_organization_secret\" \"registry_username\" {\n  secret_name     = \"REGISTRY_USERNAME\"\n  visibility      = \"private\"\n  plaintext_value = azuread_service_principal.cr_contributor_service_principal.application_id\n}\n\nresource \"github_actions_organization_secret\" \"registry_password\" {\n  secret_name     = \"REGISTRY_PASSWORD\"\n  visibility      = \"private\"\n  plaintext_value = azuread_application_password.cr_contributor_service_principal_password.value\n}\n\nresource \"github_actions_secret\" \"app_name\" {\n  repository       = \"your-repository-name\"\n  secret_name      = \"APP_NAME\"\n  plaintext_value  = azurerm_app_service.backstage_app.name\n}\n\nresource \"github_actions_organization_secret\" \"github_techdocs_container_name\" {\n  visibility       = \"private\"\n  secret_name      = \"TECHDOCS_CONTAINER_NAME\"\n  plaintext_value  = azurerm_storage_container.techdocs_storage_container.name\n}\n\nresource \"github_actions_organization_secret\" \"github_techdocs_storage_account_name\" {\n  visibility       = \"private\"\n  secret_name      = \"TECHDOCS_STORAGE_ACCOUNT\"\n  plaintext_value  = azurerm_storage_account.techdocs_storage.name\n}\n\nresource \"github_actions_organization_secret\" \"github_azure_subscription_id\" {\n  visibility       = \"private\"\n  secret_name      = \"AZURE_SUBSCRIPTION_ID\"\n  plaintext_value  = data.azurerm_client_config.current.subscription_id\n}\n\nresource \"github_actions_organization_secret\" \"github_azure_tenant_id\" {\n  visibility       = \"private\"\n  secret_name      = \"AZURE_TENANT_ID\"\n  plaintext_value  = data.azurerm_client_config.current.tenant_id\n}\n\nresource \"github_actions_organization_secret\" \"github_azure_client_id\" {\n  visibility       = \"private\"\n  secret_name      = \"AZURE_CLIENT_ID\"\n  plaintext_value  = azuread_service_principal.service_principal.application_id\n}\n\nresource \"github_actions_organization_secret\" \"github_azure_client_secret\" {\n  visibility       = \"private\"\n  secret_name      = \"AZURE_CLIENT_SECRET\"\n  plaintext_value  = azuread_application_password.backstage_app_password.value\n}\n\nresource \"github_actions_secret\" \"azure_credentials\" {\n  repository       = \"your-repository-name\"\n  secret_name      = \"AZURE_CREDENTIALS\"\n  plaintext_value  = jsonencode({\n    \"clientId\" = azuread_service_principal.service_principal.application_id\n    \"clientSecret\" = azuread_application_password.backstage_app_password.value\n    \"subscriptionId\" = data.azurerm_client_config.current.subscription_id\n    \"tenantId\" = data.azurerm_client_config.current.tenant_id\n  })\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/main.tf b/main.tf
--- a/main.tf	(revision ca01918ebe7d65815c2385d62aa7f09c241549e0)
+++ b/main.tf	(date 1708704126126)
@@ -23,8 +23,8 @@
 }
 
 provider "github" {
-  owner = "davidwalker2235-organization" # Insert your own org name here
-  #app_auth { }
+  owner = var.github_organization
+  token = var.github_token
 }
 
 # I use "abcd" as my "company name" here as an example, substitute for anything you want.
@@ -33,7 +33,6 @@
 locals {
   custom_domain = "${var.service_name}-${var.environment}.azurewebsites.net"
   name_prefix = "${var.environment}${var.service_name}"
-  app_service_ip_address = distinct(split(",", azurerm_app_service.backstage_app.outbound_ip_addresses))
 }
 
 data "azurerm_client_config" "current" { }
@@ -43,24 +42,24 @@
   location = var.location
 }
 
-resource "azuread_application" "backstage_application" {
-  display_name = "${local.name_prefix}service"
-
-  web {
-    redirect_uris = [
-      "https://${local.custom_domain}/api/auth/microsoft/handler/frame"
-    ]
-  }
-}
+#resource "azuread_application" "backstage_application" {
+#  display_name = "${local.name_prefix}service"
+#
+#  web {
+#    redirect_uris = [
+#      "https://${local.custom_domain}/api/auth/microsoft/handler/frame"
+#    ]
+#  }
+#}
 
-resource "azuread_service_principal" "service_principal" {
-  application_id = azuread_application.backstage_application.application_id
-}
-
-resource "azuread_application_password" "backstage_app_password" {
-  application_object_id = azuread_application.backstage_application.object_id
-  end_date              = "2099-01-01T01:02:03Z"
-}
+#resource "azuread_service_principal" "service_principal" {
+#  application_id = azuread_application.backstage_application.application_id
+#}
+#
+#resource "azuread_application_password" "backstage_app_password" {
+#  application_object_id = azuread_application.backstage_application.object_id
+#  end_date              = "2099-01-01T01:02:03Z"
+#}
 
 resource "azurerm_storage_account" "techdocs_storage" {
   name                     = "${local.name_prefix}storage"
@@ -77,11 +76,11 @@
   container_access_type = "private"
 }
 
-resource "azurerm_role_assignment" "service_principal_storage_access" {
-  scope                = azurerm_storage_account.techdocs_storage.id
-  role_definition_name = "Storage Blob Data Owner"
-  principal_id         = azuread_service_principal.service_principal.object_id
-}
+#resource "azurerm_role_assignment" "service_principal_storage_access" {
+#  scope                = azurerm_storage_account.techdocs_storage.id
+#  role_definition_name = "Storage Blob Data Owner"
+#  principal_id         = azuread_service_principal.service_principal.object_id
+#}
 
 resource "azurerm_application_insights" "app_insights" {
   name                = "${local.name_prefix}appi"
@@ -140,41 +139,41 @@
   }
 
   app_settings = {
-    "AZURE_CLIENT_ID" = azuread_application.backstage_application.application_id
-    "AZURE_CLIENT_SECRET" = azuread_application_password.backstage_app_password.value
-    "AZURE_TENANT_ID" = data.azurerm_client_config.current.tenant_id
-    "POSTGRES_HOST" = azurerm_postgresql_server.backstage_postgresql.fqdn
-    "POSTGRES_PORT" = 5432
+    "AZURE_CLIENT_ID" = var.azure_client_id
+    "AZURE_CLIENT_SECRET" = var.azure_client_secret
+    "AZURE_TENANT_ID" = var.azure_tenant_id
+    "POSTGRES_HOST" = var.postgres_host
+    "POSTGRES_PORT" = var.postgres_port
     "POSTGRES_USER" = "${var.db_admin_username}@${azurerm_postgresql_server.backstage_postgresql.fqdn}"
     "POSTGRES_PASSWORD" = var.db_admin_password
     "APPINSIGHTS_INSTRUMENTATIONKEY" = azurerm_application_insights.app_insights.instrumentation_key
-    "DOCKER_REGISTRY_SERVER_USERNAME" = azuread_application.backstage_application.application_id
-    "DOCKER_REGISTRY_SERVER_PASSWORD" = azuread_application_password.backstage_app_password.value
+    "DOCKER_REGISTRY_SERVER_USERNAME" = var.docker_registry_username
+    "DOCKER_REGISTRY_SERVER_PASSWORD" = var.docker_registry_password
     "CUSTOM_DOMAIN" = local.custom_domain
     "TECHDOCS_CONTAINER_NAME" = azurerm_storage_container.techdocs_storage_container.name
     "TECHDOCS_STORAGE_ACCOUNT" = azurerm_storage_account.techdocs_storage.name
   }
 }
 
-resource "azurerm_role_assignment" "app_service_contributor_role_assignment" {
-  scope                = azurerm_app_service.backstage_app.id
-  role_definition_name = "Contributor"
-  principal_id         = azuread_service_principal.service_principal.object_id
-}
-
-resource "azuread_application" "container_registry_contributor" {
-  display_name = "${local.name_prefix}crcservice"
-}
+#resource "azurerm_role_assignment" "app_service_contributor_role_assignment" {
+#  scope                = azurerm_app_service.backstage_app.id
+#  role_definition_name = "Contributor"
+#  principal_id         = azuread_service_principal.service_principal.object_id
+#}
 
-resource "azuread_service_principal" "cr_contributor_service_principal" {
-  application_id = azuread_application.container_registry_contributor.application_id
-  tags           = ["container registry", "docker", "github"]
-}
-
-resource "azuread_application_password" "cr_contributor_service_principal_password" {
-  application_object_id = azuread_application.container_registry_contributor.object_id
-  end_date              = "2099-02-01T01:02:03Z"
-}
+#resource "azuread_application" "container_registry_contributor" {
+#  display_name = "${local.name_prefix}crcservice"
+#}
+#
+#resource "azuread_service_principal" "cr_contributor_service_principal" {
+#  application_id = azuread_application.container_registry_contributor.application_id
+#  tags           = ["container registry", "docker", "github"]
+#}
+#
+#resource "azuread_application_password" "cr_contributor_service_principal_password" {
+#  application_object_id = azuread_application.container_registry_contributor.object_id
+#  end_date              = "2099-02-01T01:02:03Z"
+#}
 
 resource "azurerm_container_registry" "acr" {
   name                = "${local.name_prefix}acr"
@@ -184,97 +183,115 @@
   admin_enabled       = false
 }
 
-resource "azurerm_role_assignment" "container_registry_contributor_role_assignment" {
-  scope                = azurerm_container_registry.acr.id
-  role_definition_name = "Contributor"
-  principal_id         = azuread_service_principal.cr_contributor_service_principal.object_id
-}
-
-resource "azurerm_role_assignment" "backstage_app_service_principal_acr_role_assignment" {
-  scope                = azurerm_container_registry.acr.id
-  role_definition_name = "Reader"
-  principal_id         = azuread_service_principal.service_principal.id
-}
-
-resource "azurerm_role_assignment" "backstage_app_service_principal_acr_acrpull_role_assignment" {
-  scope                = azurerm_container_registry.acr.id
-  role_definition_name = "AcrPull"
-  principal_id         = azuread_service_principal.service_principal.id
-}
-
-resource "azurerm_role_assignment" "backstage_service_principal_acr_acrpull_role_assignment" {
-  scope                = azurerm_container_registry.acr.id
-  role_definition_name = "AcrPull"
-  principal_id         = azuread_service_principal.service_principal.id
-}
+#resource "azurerm_role_assignment" "container_registry_contributor_role_assignment" {
+#  scope                = azurerm_container_registry.acr.id
+#  role_definition_name = "Contributor"
+#  principal_id         = azuread_service_principal.cr_contributor_service_principal.object_id
+#}
+#
+#resource "azurerm_role_assignment" "backstage_app_service_principal_acr_role_assignment" {
+#  scope                = azurerm_container_registry.acr.id
+#  role_definition_name = "Reader"
+#  principal_id         = azuread_service_principal.service_principal.id
+#}
+#
+#resource "azurerm_role_assignment" "backstage_app_service_principal_acr_acrpull_role_assignment" {
+#  scope                = azurerm_container_registry.acr.id
+#  role_definition_name = "AcrPull"
+#  principal_id         = azuread_service_principal.service_principal.id
+#}
+#
+#resource "azurerm_role_assignment" "backstage_service_principal_acr_acrpull_role_assignment" {
+#  scope                = azurerm_container_registry.acr.id
+#  role_definition_name = "AcrPull"
+#  principal_id         = azuread_service_principal.service_principal.id
+#}
 
 resource "github_actions_organization_secret" "registry_login_server" {
   secret_name     = "REGISTRY_LOGIN_SERVER"
-  visibility      = "private"
-  plaintext_value = azurerm_container_registry.acr.login_server
+  visibility      = "all"
+  plaintext_value = var.container_registry_login_server
 }
 
 resource "github_actions_organization_secret" "registry_username" {
   secret_name     = "REGISTRY_USERNAME"
-  visibility      = "private"
-  plaintext_value = azuread_service_principal.cr_contributor_service_principal.application_id
+  visibility      = "all"
+  plaintext_value = var.container_registry_username
 }
 
 resource "github_actions_organization_secret" "registry_password" {
   secret_name     = "REGISTRY_PASSWORD"
-  visibility      = "private"
-  plaintext_value = azuread_application_password.cr_contributor_service_principal_password.value
+  visibility      = "all"
+  plaintext_value = var.container_registry_password
 }
 
 resource "github_actions_secret" "app_name" {
-  repository       = "your-repository-name"
+  repository       = var.github_repository_name
   secret_name      = "APP_NAME"
   plaintext_value  = azurerm_app_service.backstage_app.name
 }
 
 resource "github_actions_organization_secret" "github_techdocs_container_name" {
-  visibility       = "private"
+  visibility       = "all"
   secret_name      = "TECHDOCS_CONTAINER_NAME"
   plaintext_value  = azurerm_storage_container.techdocs_storage_container.name
 }
 
 resource "github_actions_organization_secret" "github_techdocs_storage_account_name" {
-  visibility       = "private"
+  visibility       = "all"
   secret_name      = "TECHDOCS_STORAGE_ACCOUNT"
   plaintext_value  = azurerm_storage_account.techdocs_storage.name
 }
 
 resource "github_actions_organization_secret" "github_azure_subscription_id" {
-  visibility       = "private"
+  visibility       = "all"
   secret_name      = "AZURE_SUBSCRIPTION_ID"
-  plaintext_value  = data.azurerm_client_config.current.subscription_id
+  plaintext_value  = var.azure_subscription_id
 }
 
 resource "github_actions_organization_secret" "github_azure_tenant_id" {
-  visibility       = "private"
+  visibility       = "all"
   secret_name      = "AZURE_TENANT_ID"
-  plaintext_value  = data.azurerm_client_config.current.tenant_id
+  plaintext_value  = var.azure_tenant_id
 }
 
 resource "github_actions_organization_secret" "github_azure_client_id" {
-  visibility       = "private"
+  visibility       = "all"
   secret_name      = "AZURE_CLIENT_ID"
-  plaintext_value  = azuread_service_principal.service_principal.application_id
+  plaintext_value  = var.azure_client_id
 }
 
 resource "github_actions_organization_secret" "github_azure_client_secret" {
-  visibility       = "private"
+  visibility       = "all"
   secret_name      = "AZURE_CLIENT_SECRET"
-  plaintext_value  = azuread_application_password.backstage_app_password.value
+  plaintext_value  = var.azure_client_secret
+}
+
+resource "github_actions_organization_secret" "github_app_id" {
+  visibility       = "all"
+  secret_name      = "APP_ID"
+  plaintext_value  = var.github_app_id
+}
+
+resource "github_actions_organization_secret" "github_app_client_id" {
+  visibility       = "all"
+  secret_name      = "APP_CLIENT_ID"
+  plaintext_value  = var.github_app_client_id
+}
+
+resource "github_actions_organization_secret" "github_app_client_secret" {
+  visibility       = "all"
+  secret_name      = "APP_CLIENT_SECRET"
+  plaintext_value  = var.github_app_client_secret
 }
 
 resource "github_actions_secret" "azure_credentials" {
-  repository       = "your-repository-name"
+  repository       = var.github_repository_name
   secret_name      = "AZURE_CREDENTIALS"
   plaintext_value  = jsonencode({
-    "clientId" = azuread_service_principal.service_principal.application_id
-    "clientSecret" = azuread_application_password.backstage_app_password.value
-    "subscriptionId" = data.azurerm_client_config.current.subscription_id
-    "tenantId" = data.azurerm_client_config.current.tenant_id
+    "clientId" = var.azure_client_id
+    "clientSecret" = var.azure_client_secret
+    "subscriptionId" = var.azure_subscription_id
+    "tenantId" = var.azure_tenant_id
   })
 }
\ No newline at end of file
Index: .terraform.lock.hcl
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/.terraform.lock.hcl b/.terraform.lock.hcl
new file mode 100644
--- /dev/null	(date 1708704167308)
+++ b/.terraform.lock.hcl	(date 1708704167308)
@@ -0,0 +1,61 @@
+# This file is maintained automatically by "terraform init".
+# Manual edits may be lost in future updates.
+
+provider "registry.terraform.io/hashicorp/azuread" {
+  version     = "2.12.0"
+  constraints = "2.12.0"
+  hashes = [
+    "h1:DcMcMcQ0DySwR4gi0MCA7/g2zkYkzPNq8A6Diy5zgJI=",
+    "zh:04246818213a8a3de15340fc71c326538d391c7c7c5273dc3897fbeedf187c8e",
+    "zh:0c6bb23ca68f6cfc88980feb7fa2208b9b00be80435f6e4df8fc6f0a2b0693e2",
+    "zh:32e172b4c785bc724470bdcdb2f407bfe2935cbbe91552e31e018c647643e97a",
+    "zh:40ef2493096102384a5d3749a03996be9a6d3b3ab6d782db7e731c7ee7676bfe",
+    "zh:5ca3845a0b840104de8487232b6f2d3ea29c8a2cd962a3741eb85f200f8ac65f",
+    "zh:88b6c8154595abf32c062c93d3c8d4e71f487f739ed613acd1dd02ca90333270",
+    "zh:89d8850b3211941740d5f90ae9b0a233d31432044652840d9df2e343bfb5fbde",
+    "zh:b312777f193676865ba748d225f57320a06386e103acd5bca514ed5ff00b4b44",
+    "zh:b3fa954a50ed0352f3330e93bc62d2357e0965470ee36972fdb736f0f8205f5f",
+    "zh:d1ceb73f24209d64c47c6986440afcc24dfb9b7ea47e049f9fa06b577fd060fa",
+    "zh:f548546519d2f0592910988c42f4abe53069b49c29ea5d1965f90b4aaaa87609",
+  ]
+}
+
+provider "registry.terraform.io/hashicorp/azurerm" {
+  version     = "2.89.0"
+  constraints = "2.89.0"
+  hashes = [
+    "h1:NAm/WZGVmq6RNitLgvRbj6MIFlloaO1f0cltknrL6FI=",
+    "zh:126414548bd2788d4ac522473aaff3a067db4ee7188ad7e72b9ca22c11eee7a3",
+    "zh:348b0cde6f26e4c93bd490003f362b32b5844dd2cc7cc04e45b5cab4934c1228",
+    "zh:3b99d53c8695018ad073144189592e0f22fe3ea4d4f48501aeaacae32f4a0c5c",
+    "zh:64849db291a522511ea60e27993034e779e5337861f9936edda542bfbb99293e",
+    "zh:6e0b54ac5253ce1af26f00a811e608203b946b1f1b06c22127d4c7604dc6fde7",
+    "zh:70271cd3969c1cc0daab87c8a20c452cd47ede35828c9d9a5c482e30f8f83110",
+    "zh:835dba150ceec0b74c590b727e3df82eb5687227b0b817621998eda7c2ace526",
+    "zh:a84d73b1208254f86e34b813d2ee3270a61079af4167d9c51f4825b639427547",
+    "zh:bcccfa28cacaf402fc3026b203411be576de2c97c5e4af50a17c61522e6fe4de",
+    "zh:c34fb19904b0d1e930209b8bcee1c47fc7530949db70376a775d815be7c81673",
+    "zh:c95437a9519c41895813d0481c34365d782472665866794fd986cc53a5fe0b32",
+  ]
+}
+
+provider "registry.terraform.io/integrations/github" {
+  version     = "4.19.0"
+  constraints = "4.19.0"
+  hashes = [
+    "h1:0V1vqwhjYGXxSIqs6SRpPo/XMQ0aVvMsfKbNG4qSS4Y=",
+    "zh:035175644cbc07d4ad6574bfda2b567b4636cf6496e502323a4474a512233bd2",
+    "zh:25277521a1087fb189571b338ff83484852f1e2e9c01a4778cbe19133486436f",
+    "zh:29dfed71dcb878f398ae8ed86695d306b16be1d1fbeee8266a6134fc62b63f3b",
+    "zh:450db6877c1c1930c6cf9d9e4f64f13e667b6b43d01ee032fe91fd2cbcc66ba9",
+    "zh:65b5a73f6a48f39e11502f4844a24f914dff61e19408ab2da0eaa16893da274b",
+    "zh:6a05578deacb13af930a637e03caceec2294ea9156f04f3c101b834a2606b311",
+    "zh:88e8a23ec41f3cc97d23097c1997985b922399bce18289e43e8f666092791835",
+    "zh:9cce85eb9ce6bf23da6cddf9c987fd38dde460fb76df1ac53c0fcc4a635a99ca",
+    "zh:a2f08bb46606c790e772b960bd1bf42bf94d8b3f2afa670dca9fb9772ba57bbc",
+    "zh:a9babe59f910239b78f1233ff4aefc63eb3cfca01bccf25c7971eaa542fbb998",
+    "zh:bb2fb027af1b7dd543b73db342b625921df02ca353ad53b9f90bb60448387501",
+    "zh:c3eb921462d8ed508712977de2c1191e2424d5983f426c326e60dfd4bad60363",
+    "zh:de200e22f3109049ebb319284fe78dc2bc8cf016c4e79f0b071712460ad35987",
+  ]
+}
Index: terraform.tfstate
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/terraform.tfstate b/terraform.tfstate
new file mode 100644
--- /dev/null	(date 1708704663011)
+++ b/terraform.tfstate	(date 1708704663011)
@@ -0,0 +1,1011 @@
+{
+  "version": 4,
+  "terraform_version": "1.7.3",
+  "serial": 24,
+  "lineage": "df113ee7-ef40-013c-6d82-6b02af39ad72",
+  "outputs": {
+    "backstage_app_outbound_ips": {
+      "value": "20.126.179.205,20.31.96.104,20.31.97.43,20.31.100.30,20.31.102.16,20.31.102.144,20.82.8.153,20.82.9.47,20.82.14.107,20.82.15.76,20.93.216.26,20.93.219.246,20.105.224.41",
+      "type": "string"
+    },
+    "backstage_postgresql_name": {
+      "value": "prodernibackstagepsql",
+      "type": "string"
+    },
+    "backstage_rg_name": {
+      "value": "prodernibackstagerg",
+      "type": "string"
+    },
+    "backstage_service_principal_id": {
+      "value": "52a86e7e-c120-4087-937e-fb86d15b87f6",
+      "type": "string"
+    }
+  },
+  "resources": [
+    {
+      "mode": "data",
+      "type": "azurerm_client_config",
+      "name": "current",
+      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
+      "instances": [
+        {
+          "schema_version": 0,
+          "attributes": {
+            "client_id": "04b07795-8ddb-461a-bbee-02f9e1bf7b46",
+            "id": "2024-02-23 16:04:19.046888 +0000 UTC",
+            "object_id": "",
+            "subscription_id": "70e356bf-9061-41cb-8a82-d3fe0361603b",
+            "tenant_id": "eb25818e-5bd5-49bf-99de-53e3e7b42630",
+            "timeouts": null
+          },
+          "sensitive_attributes": []
+        }
+      ]
+    },
+    {
+      "mode": "managed",
+      "type": "azurerm_app_service",
+      "name": "backstage_app",
+      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
+      "instances": [
+        {
+          "schema_version": 0,
+          "attributes": {
+            "app_service_plan_id": "/subscriptions/70e356bf-9061-41cb-8a82-d3fe0361603b/resourceGroups/prodernibackstagerg/providers/Microsoft.Web/serverfarms/prodernibackstageplan",
+            "app_settings": {
+              "APPINSIGHTS_INSTRUMENTATIONKEY": "267da2b3-5a52-4c10-9314-dd5c06ab4496",
+              "AZURE_CLIENT_ID": "f2bece22-8055-4579-af8a-1220755d2cc3",
+              "AZURE_CLIENT_SECRET": "FGa8Q~FgW1XGAzuQ-o.kVKAB1BQbsiyrh_suYbvC",
+              "AZURE_TENANT_ID": "eb25818e-5bd5-49bf-99de-53e3e7b42630",
+              "CUSTOM_DOMAIN": "ernibackstage-prod.azurewebsites.net",
+              "DOCKER_REGISTRY_SERVER_PASSWORD": "X4DG/cisOtQf634v2RC6T7LF1U4R7IDM3TB7MRoInX+ACRA/y6Ls",
+              "DOCKER_REGISTRY_SERVER_USERNAME": "backstagecontainer",
+              "POSTGRES_HOST": "ernibackstagepsql.postgres.database.azure.com",
+              "POSTGRES_PASSWORD": "Dacarma@9211",
+              "POSTGRES_PORT": "5432",
+              "POSTGRES_USER": "backstage@prodernibackstagepsql.postgres.database.azure.com",
+              "TECHDOCS_CONTAINER_NAME": "prodernibackstagetechdocs",
+              "TECHDOCS_STORAGE_ACCOUNT": "prodernibackstagestorage"
+            },
+            "auth_settings": [
+              {
+                "active_directory": [],
+                "additional_login_params": {},
+                "allowed_external_redirect_urls": [],
+                "default_provider": "",
+                "enabled": false,
+                "facebook": [],
+                "google": [],
+                "issuer": "",
+                "microsoft": [],
+                "runtime_version": "",
+                "token_refresh_extension_hours": 0,
+                "token_store_enabled": false,
+                "twitter": [],
+                "unauthenticated_client_action": ""
+              }
+            ],
+            "backup": [],
+            "client_affinity_enabled": false,
+            "client_cert_enabled": false,
+            "client_cert_mode": "Required",
+            "connection_string": [],
+            "custom_domain_verification_id": "6D7074AB524E201B9AD5BD51840CEDF67FCA2FB65D7D6B905637D3962BBE45F1",
+            "default_site_hostname": "prodernibackstageapp.azurewebsites.net",
+            "enabled": true,
+            "https_only": false,
+            "id": "/subscriptions/70e356bf-9061-41cb-8a82-d3fe0361603b/resourceGroups/prodernibackstagerg/providers/Microsoft.Web/sites/prodernibackstageapp",
+            "identity": [
+              {
+                "identity_ids": null,
+                "principal_id": "52a86e7e-c120-4087-937e-fb86d15b87f6",
+                "tenant_id": "eb25818e-5bd5-49bf-99de-53e3e7b42630",
+                "type": "SystemAssigned"
+              }
+            ],
+            "key_vault_reference_identity_id": "SystemAssigned",
+            "location": "westeurope",
+            "logs": [
+              {
+                "application_logs": [
+                  {
+                    "azure_blob_storage": [],
+                    "file_system_level": "Off"
+                  }
+                ],
+                "detailed_error_messages_enabled": false,
+                "failed_request_tracing_enabled": false,
+                "http_logs": [
+                  {
+                    "azure_blob_storage": [],
+                    "file_system": []
+                  }
+                ]
+              }
+            ],
+            "name": "prodernibackstageapp",
+            "outbound_ip_address_list": [
+              "20.126.179.205",
+              "20.31.96.104",
+              "20.31.97.43",
+              "20.31.100.30",
+              "20.31.102.16",
+              "20.31.102.144",
+              "20.82.8.153",
+              "20.82.9.47",
+              "20.82.14.107",
+              "20.82.15.76",
+              "20.93.216.26",
+              "20.93.219.246",
+              "20.105.224.41"
+            ],
+            "outbound_ip_addresses": "20.126.179.205,20.31.96.104,20.31.97.43,20.31.100.30,20.31.102.16,20.31.102.144,20.82.8.153,20.82.9.47,20.82.14.107,20.82.15.76,20.93.216.26,20.93.219.246,20.105.224.41",
+            "possible_outbound_ip_address_list": [
+              "20.126.179.205",
+              "20.31.96.104",
+              "20.31.97.43",
+              "20.31.100.30",
+              "20.31.102.16",
+              "20.31.102.144",
+              "20.82.8.153",
+              "20.82.9.47",
+              "20.82.14.107",
+              "20.82.15.76",
+              "20.93.216.26",
+              "20.93.219.246",
+              "20.93.223.48",
+              "20.103.172.120",
+              "20.103.173.68",
+              "20.103.173.81",
+              "20.103.173.195",
+              "20.103.174.46",
+              "20.103.175.4",
+              "20.103.175.82",
+              "20.103.175.235",
+              "20.126.176.154",
+              "20.126.177.227",
+              "20.126.178.113",
+              "20.126.179.205",
+              "20.31.96.104",
+              "20.31.97.43",
+              "20.31.100.30",
+              "20.31.102.16",
+              "20.31.102.144",
+              "20.31.102.208",
+              "20.31.102.224",
+              "20.31.103.40",
+              "20.31.103.175",
+              "20.238.144.24",
+              "20.238.144.72",
+              "20.105.224.41"
+            ],
+            "possible_outbound_ip_addresses": "20.126.179.205,20.31.96.104,20.31.97.43,20.31.100.30,20.31.102.16,20.31.102.144,20.82.8.153,20.82.9.47,20.82.14.107,20.82.15.76,20.93.216.26,20.93.219.246,20.93.223.48,20.103.172.120,20.103.173.68,20.103.173.81,20.103.173.195,20.103.174.46,20.103.175.4,20.103.175.82,20.103.175.235,20.126.176.154,20.126.177.227,20.126.178.113,20.126.179.205,20.31.96.104,20.31.97.43,20.31.100.30,20.31.102.16,20.31.102.144,20.31.102.208,20.31.102.224,20.31.103.40,20.31.103.175,20.238.144.24,20.238.144.72,20.105.224.41",
+            "resource_group_name": "prodernibackstagerg",
+            "site_config": [
+              {
+                "acr_use_managed_identity_credentials": false,
+                "acr_user_managed_identity_client_id": "",
+                "always_on": false,
+                "app_command_line": "",
+                "auto_swap_slot_name": "",
+                "cors": [],
+                "default_documents": [
+                  "Default.htm",
+                  "Default.html",
+                  "Default.asp",
+                  "index.htm",
+                  "index.html",
+                  "iisstart.htm",
+                  "default.aspx",
+                  "index.php",
+                  "hostingstart.html"
+                ],
+                "dotnet_framework_version": "v4.0",
+                "ftps_state": "FtpsOnly",
+                "health_check_path": "",
+                "http2_enabled": false,
+                "ip_restriction": [],
+                "java_container": "",
+                "java_container_version": "",
+                "java_version": "",
+                "linux_fx_version": "",
+                "local_mysql_enabled": false,
+                "managed_pipeline_mode": "Integrated",
+                "min_tls_version": "1.2",
+                "number_of_workers": 1,
+                "php_version": "",
+                "python_version": "",
+                "remote_debugging_enabled": false,
+                "remote_debugging_version": "",
+                "scm_ip_restriction": [],
+                "scm_type": "None",
+                "scm_use_main_ip_restriction": false,
+                "use_32_bit_worker_process": true,
+                "vnet_route_all_enabled": false,
+                "websockets_enabled": false,
+                "windows_fx_version": ""
+              }
+            ],
+            "site_credential": [
+              {
+                "password": "vvwpgREScP1k40c5pHQxLnzbplbXa7nHvBFkMLxDKLx4rRx6tcN9TqWkd4LQ",
+                "username": "$prodernibackstageapp"
+              }
+            ],
+            "source_control": [
+              {
+                "branch": "master",
+                "manual_integration": false,
+                "repo_url": "",
+                "rollback_enabled": false,
+                "use_mercurial": false
+              }
+            ],
+            "storage_account": [],
+            "tags": null,
+            "timeouts": null
+          },
+          "sensitive_attributes": [
+            [
+              {
+                "type": "get_attr",
+                "value": "app_settings"
+              },
+              {
+                "type": "index",
+                "value": {
+                  "value": "APPINSIGHTS_INSTRUMENTATIONKEY",
+                  "type": "string"
+                }
+              }
+            ]
+          ],
+          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
+          "dependencies": [
+            "azurerm_app_service_plan.backstage_app_plan",
+            "azurerm_application_insights.app_insights",
+            "azurerm_postgresql_server.backstage_postgresql",
+            "azurerm_resource_group.backstage_rg",
+            "azurerm_storage_account.techdocs_storage",
+            "azurerm_storage_container.techdocs_storage_container"
+          ]
+        }
+      ]
+    },
+    {
+      "mode": "managed",
+      "type": "azurerm_app_service_plan",
+      "name": "backstage_app_plan",
+      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
+      "instances": [
+        {
+          "schema_version": 0,
+          "attributes": {
+            "app_service_environment_id": "",
+            "id": "/subscriptions/70e356bf-9061-41cb-8a82-d3fe0361603b/resourceGroups/prodernibackstagerg/providers/Microsoft.Web/serverfarms/prodernibackstageplan",
+            "is_xenon": false,
+            "kind": "linux",
+            "location": "westeurope",
+            "maximum_elastic_worker_count": 1,
+            "maximum_number_of_workers": 3,
+            "name": "prodernibackstageplan",
+            "per_site_scaling": false,
+            "reserved": true,
+            "resource_group_name": "prodernibackstagerg",
+            "sku": [
+              {
+                "capacity": 1,
+                "size": "B1",
+                "tier": "Basic"
+              }
+            ],
+            "tags": null,
+            "timeouts": null,
+            "zone_redundant": false
+          },
+          "sensitive_attributes": [],
+          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjozNjAwMDAwMDAwMDAwLCJkZWxldGUiOjM2MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjozNjAwMDAwMDAwMDAwfX0=",
+          "dependencies": [
+            "azurerm_resource_group.backstage_rg"
+          ]
+        }
+      ]
+    },
+    {
+      "mode": "managed",
+      "type": "azurerm_application_insights",
+      "name": "app_insights",
+      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
+      "instances": [
+        {
+          "schema_version": 1,
+          "attributes": {
+            "app_id": "58e269ec-55ae-4235-ab14-41d701f69d8c",
+            "application_type": "other",
+            "connection_string": "InstrumentationKey=267da2b3-5a52-4c10-9314-dd5c06ab4496;IngestionEndpoint=https://westeurope-3.in.applicationinsights.azure.com/;LiveEndpoint=https://westeurope.livediagnostics.monitor.azure.com/",
+            "daily_data_cap_in_gb": 100,
+            "daily_data_cap_notifications_disabled": false,
+            "disable_ip_masking": false,
+            "id": "/subscriptions/70e356bf-9061-41cb-8a82-d3fe0361603b/resourceGroups/prodernibackstagerg/providers/Microsoft.Insights/components/prodernibackstageappi",
+            "instrumentation_key": "267da2b3-5a52-4c10-9314-dd5c06ab4496",
+            "internet_ingestion_enabled": true,
+            "internet_query_enabled": true,
+            "local_authentication_disabled": false,
+            "location": "westeurope",
+            "name": "prodernibackstageappi",
+            "resource_group_name": "prodernibackstagerg",
+            "retention_in_days": 90,
+            "sampling_percentage": 100,
+            "tags": null,
+            "timeouts": null,
+            "workspace_id": null
+          },
+          "sensitive_attributes": [],
+          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfSwic2NoZW1hX3ZlcnNpb24iOiIxIn0=",
+          "dependencies": [
+            "azurerm_resource_group.backstage_rg"
+          ]
+        }
+      ]
+    },
+    {
+      "mode": "managed",
+      "type": "azurerm_container_registry",
+      "name": "acr",
+      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
+      "instances": [
+        {
+          "schema_version": 2,
+          "attributes": {
+            "admin_enabled": false,
+            "admin_password": "",
+            "admin_username": "",
+            "anonymous_pull_enabled": false,
+            "data_endpoint_enabled": false,
+            "encryption": [
+              {
+                "enabled": false,
+                "identity_client_id": "",
+                "key_vault_key_id": ""
+              }
+            ],
+            "georeplication_locations": [],
+            "georeplications": [],
+            "id": "/subscriptions/70e356bf-9061-41cb-8a82-d3fe0361603b/resourceGroups/prodernibackstagerg/providers/Microsoft.ContainerRegistry/registries/prodernibackstageacr",
+            "identity": [],
+            "location": "westeurope",
+            "login_server": "prodernibackstageacr.azurecr.io",
+            "name": "prodernibackstageacr",
+            "network_rule_bypass_option": "AzureServices",
+            "network_rule_set": [],
+            "public_network_access_enabled": true,
+            "quarantine_policy_enabled": false,
+            "resource_group_name": "prodernibackstagerg",
+            "retention_policy": [
+              {
+                "days": 7,
+                "enabled": false
+              }
+            ],
+            "sku": "Basic",
+            "storage_account_id": "",
+            "tags": null,
+            "timeouts": null,
+            "trust_policy": [
+              {
+                "enabled": false
+              }
+            ],
+            "zone_redundancy_enabled": false
+          },
+          "sensitive_attributes": [],
+          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfSwic2NoZW1hX3ZlcnNpb24iOiIyIn0=",
+          "dependencies": [
+            "azurerm_resource_group.backstage_rg"
+          ]
+        }
+      ]
+    },
+    {
+      "mode": "managed",
+      "type": "azurerm_postgresql_database",
+      "name": "backstage_postgresql_database",
+      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
+      "instances": [
+        {
+          "schema_version": 0,
+          "attributes": {
+            "charset": "UTF8",
+            "collation": "en-US",
+            "id": "/subscriptions/70e356bf-9061-41cb-8a82-d3fe0361603b/resourceGroups/prodernibackstagerg/providers/Microsoft.DBforPostgreSQL/servers/prodernibackstagepsql/databases/docs",
+            "name": "docs",
+            "resource_group_name": "prodernibackstagerg",
+            "server_name": "prodernibackstagepsql",
+            "timeouts": null
+          },
+          "sensitive_attributes": [],
+          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjozNjAwMDAwMDAwMDAwLCJkZWxldGUiOjM2MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjozNjAwMDAwMDAwMDAwfX0=",
+          "dependencies": [
+            "azurerm_postgresql_server.backstage_postgresql",
+            "azurerm_resource_group.backstage_rg"
+          ]
+        }
+      ]
+    },
+    {
+      "mode": "managed",
+      "type": "azurerm_postgresql_server",
+      "name": "backstage_postgresql",
+      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
+      "instances": [
+        {
+          "schema_version": 0,
+          "attributes": {
+            "administrator_login": "backstage",
+            "administrator_login_password": "Dacarma@9211",
+            "auto_grow_enabled": false,
+            "backup_retention_days": 7,
+            "create_mode": "Default",
+            "creation_source_server_id": null,
+            "fqdn": "prodernibackstagepsql.postgres.database.azure.com",
+            "geo_redundant_backup_enabled": false,
+            "id": "/subscriptions/70e356bf-9061-41cb-8a82-d3fe0361603b/resourceGroups/prodernibackstagerg/providers/Microsoft.DBforPostgreSQL/servers/prodernibackstagepsql",
+            "identity": [],
+            "infrastructure_encryption_enabled": false,
+            "location": "westeurope",
+            "name": "prodernibackstagepsql",
+            "public_network_access_enabled": true,
+            "resource_group_name": "prodernibackstagerg",
+            "restore_point_in_time": null,
+            "sku_name": "B_Gen5_1",
+            "ssl_enforcement": "Enabled",
+            "ssl_enforcement_enabled": true,
+            "ssl_minimal_tls_version_enforced": "TLSEnforcementDisabled",
+            "storage_mb": 5120,
+            "storage_profile": [
+              {
+                "auto_grow": "Disabled",
+                "backup_retention_days": 7,
+                "geo_redundant_backup": "Disabled",
+                "storage_mb": 5120
+              }
+            ],
+            "tags": null,
+            "threat_detection_policy": [],
+            "timeouts": null,
+            "version": "11"
+          },
+          "sensitive_attributes": [],
+          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjozNjAwMDAwMDAwMDAwLCJkZWxldGUiOjM2MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjozNjAwMDAwMDAwMDAwfX0=",
+          "dependencies": [
+            "azurerm_resource_group.backstage_rg"
+          ]
+        }
+      ]
+    },
+    {
+      "mode": "managed",
+      "type": "azurerm_resource_group",
+      "name": "backstage_rg",
+      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
+      "instances": [
+        {
+          "schema_version": 0,
+          "attributes": {
+            "id": "/subscriptions/70e356bf-9061-41cb-8a82-d3fe0361603b/resourceGroups/prodernibackstagerg",
+            "location": "westeurope",
+            "name": "prodernibackstagerg",
+            "tags": null,
+            "timeouts": null
+          },
+          "sensitive_attributes": [],
+          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo1NDAwMDAwMDAwMDAwLCJkZWxldGUiOjU0MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjo1NDAwMDAwMDAwMDAwfX0="
+        }
+      ]
+    },
+    {
+      "mode": "managed",
+      "type": "azurerm_storage_account",
+      "name": "techdocs_storage",
+      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
+      "instances": [
+        {
+          "schema_version": 2,
+          "attributes": {
+            "access_tier": "Hot",
+            "account_kind": "StorageV2",
+            "account_replication_type": "GRS",
+            "account_tier": "Standard",
+            "allow_blob_public_access": false,
+            "azure_files_authentication": [],
+            "blob_properties": [
+              {
+                "change_feed_enabled": false,
+                "container_delete_retention_policy": [],
+                "cors_rule": [],
+                "default_service_version": "",
+                "delete_retention_policy": [],
+                "last_access_time_enabled": false,
+                "versioning_enabled": false
+              }
+            ],
+            "custom_domain": [],
+            "enable_https_traffic_only": true,
+            "id": "/subscriptions/70e356bf-9061-41cb-8a82-d3fe0361603b/resourceGroups/prodernibackstagerg/providers/Microsoft.Storage/storageAccounts/prodernibackstagestorage",
+            "identity": [],
+            "is_hns_enabled": false,
+            "large_file_share_enabled": null,
+            "location": "westeurope",
+            "min_tls_version": "TLS1_0",
+            "name": "prodernibackstagestorage",
+            "network_rules": [
+              {
+                "bypass": [
+                  "AzureServices"
+                ],
+                "default_action": "Allow",
+                "ip_rules": [],
+                "private_link_access": [],
+                "virtual_network_subnet_ids": []
+              }
+            ],
+            "nfsv3_enabled": false,
+            "primary_access_key": "XZ4XzebbWKADrBe3dHQ3ps9di7UrJdidukeA6wWSXUgP//VjTZdVmQAScMj3cWOp/CwP3WKbT+dN+AStcVaqFg==",
+            "primary_blob_connection_string": "DefaultEndpointsProtocol=https;BlobEndpoint=https://prodernibackstagestorage.blob.core.windows.net/;AccountName=prodernibackstagestorage;AccountKey=XZ4XzebbWKADrBe3dHQ3ps9di7UrJdidukeA6wWSXUgP//VjTZdVmQAScMj3cWOp/CwP3WKbT+dN+AStcVaqFg==",
+            "primary_blob_endpoint": "https://prodernibackstagestorage.blob.core.windows.net/",
+            "primary_blob_host": "prodernibackstagestorage.blob.core.windows.net",
+            "primary_connection_string": "DefaultEndpointsProtocol=https;AccountName=prodernibackstagestorage;AccountKey=XZ4XzebbWKADrBe3dHQ3ps9di7UrJdidukeA6wWSXUgP//VjTZdVmQAScMj3cWOp/CwP3WKbT+dN+AStcVaqFg==;EndpointSuffix=core.windows.net",
+            "primary_dfs_endpoint": "https://prodernibackstagestorage.dfs.core.windows.net/",
+            "primary_dfs_host": "prodernibackstagestorage.dfs.core.windows.net",
+            "primary_file_endpoint": "https://prodernibackstagestorage.file.core.windows.net/",
+            "primary_file_host": "prodernibackstagestorage.file.core.windows.net",
+            "primary_location": "westeurope",
+            "primary_queue_endpoint": "https://prodernibackstagestorage.queue.core.windows.net/",
+            "primary_queue_host": "prodernibackstagestorage.queue.core.windows.net",
+            "primary_table_endpoint": "https://prodernibackstagestorage.table.core.windows.net/",
+            "primary_table_host": "prodernibackstagestorage.table.core.windows.net",
+            "primary_web_endpoint": "https://prodernibackstagestorage.z6.web.core.windows.net/",
+            "primary_web_host": "prodernibackstagestorage.z6.web.core.windows.net",
+            "queue_encryption_key_type": "Service",
+            "queue_properties": [
+              {
+                "cors_rule": [],
+                "hour_metrics": [
+                  {
+                    "enabled": true,
+                    "include_apis": true,
+                    "retention_policy_days": 7,
+                    "version": "1.0"
+                  }
+                ],
+                "logging": [
+                  {
+                    "delete": false,
+                    "read": false,
+                    "retention_policy_days": 0,
+                    "version": "1.0",
+                    "write": false
+                  }
+                ],
+                "minute_metrics": [
+                  {
+                    "enabled": false,
+                    "include_apis": false,
+                    "retention_policy_days": 0,
+                    "version": "1.0"
+                  }
+                ]
+              }
+            ],
+            "resource_group_name": "prodernibackstagerg",
+            "routing": [],
+            "secondary_access_key": "ZmuPiLUlsTsGJa+s109bwguEMg5IC60qImnpB94r+Z8PZYdRS9/yzLJIYE1j6W+FkHphh8UcOzJC+AStxi5MfA==",
+            "secondary_blob_connection_string": "",
+            "secondary_blob_endpoint": null,
+            "secondary_blob_host": null,
+            "secondary_connection_string": "DefaultEndpointsProtocol=https;AccountName=prodernibackstagestorage;AccountKey=ZmuPiLUlsTsGJa+s109bwguEMg5IC60qImnpB94r+Z8PZYdRS9/yzLJIYE1j6W+FkHphh8UcOzJC+AStxi5MfA==;EndpointSuffix=core.windows.net",
+            "secondary_dfs_endpoint": null,
+            "secondary_dfs_host": null,
+            "secondary_file_endpoint": null,
+            "secondary_file_host": null,
+            "secondary_location": "northeurope",
+            "secondary_queue_endpoint": null,
+            "secondary_queue_host": null,
+            "secondary_table_endpoint": null,
+            "secondary_table_host": null,
+            "secondary_web_endpoint": null,
+            "secondary_web_host": null,
+            "share_properties": [
+              {
+                "cors_rule": [],
+                "retention_policy": [
+                  {
+                    "days": 7
+                  }
+                ],
+                "smb": []
+              }
+            ],
+            "shared_access_key_enabled": true,
+            "static_website": [],
+            "table_encryption_key_type": "Service",
+            "tags": null,
+            "timeouts": null
+          },
+          "sensitive_attributes": [],
+          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjozNjAwMDAwMDAwMDAwLCJkZWxldGUiOjM2MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjozNjAwMDAwMDAwMDAwfSwic2NoZW1hX3ZlcnNpb24iOiIyIn0=",
+          "dependencies": [
+            "azurerm_resource_group.backstage_rg"
+          ]
+        }
+      ]
+    },
+    {
+      "mode": "managed",
+      "type": "azurerm_storage_container",
+      "name": "techdocs_storage_container",
+      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
+      "instances": [
+        {
+          "schema_version": 1,
+          "attributes": {
+            "container_access_type": "private",
+            "has_immutability_policy": false,
+            "has_legal_hold": false,
+            "id": "https://prodernibackstagestorage.blob.core.windows.net/prodernibackstagetechdocs",
+            "metadata": {},
+            "name": "prodernibackstagetechdocs",
+            "resource_manager_id": "/subscriptions/70e356bf-9061-41cb-8a82-d3fe0361603b/resourceGroups/prodernibackstagerg/providers/Microsoft.Storage/storageAccounts/prodernibackstagestorage/blobServices/default/containers/prodernibackstagetechdocs",
+            "storage_account_name": "prodernibackstagestorage",
+            "timeouts": null
+          },
+          "sensitive_attributes": [],
+          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfSwic2NoZW1hX3ZlcnNpb24iOiIxIn0=",
+          "dependencies": [
+            "azurerm_resource_group.backstage_rg",
+            "azurerm_storage_account.techdocs_storage"
+          ]
+        }
+      ]
+    },
+    {
+      "mode": "managed",
+      "type": "github_actions_organization_secret",
+      "name": "github_app_client_id",
+      "provider": "provider[\"registry.terraform.io/integrations/github\"]",
+      "instances": [
+        {
+          "schema_version": 0,
+          "attributes": {
+            "created_at": "2024-02-23 15:43:28 +0000 UTC",
+            "encrypted_value": "",
+            "id": "APP_CLIENT_ID",
+            "plaintext_value": "Iv1.070a80f1762cab18",
+            "secret_name": "APP_CLIENT_ID",
+            "selected_repository_ids": null,
+            "updated_at": "2024-02-23 16:04:41 +0000 UTC",
+            "visibility": "all"
+          },
+          "sensitive_attributes": [],
+          "private": "bnVsbA=="
+        }
+      ]
+    },
+    {
+      "mode": "managed",
+      "type": "github_actions_organization_secret",
+      "name": "github_app_client_secret",
+      "provider": "provider[\"registry.terraform.io/integrations/github\"]",
+      "instances": [
+        {
+          "schema_version": 0,
+          "attributes": {
+            "created_at": "2024-02-23 15:43:25 +0000 UTC",
+            "encrypted_value": "",
+            "id": "APP_CLIENT_SECRET",
+            "plaintext_value": "Ffb6c39a026e53dba549affdb09170aa2ab89809",
+            "secret_name": "APP_CLIENT_SECRET",
+            "selected_repository_ids": null,
+            "updated_at": "2024-02-23 16:04:32 +0000 UTC",
+            "visibility": "all"
+          },
+          "sensitive_attributes": [],
+          "private": "bnVsbA=="
+        }
+      ]
+    },
+    {
+      "mode": "managed",
+      "type": "github_actions_organization_secret",
+      "name": "github_app_id",
+      "provider": "provider[\"registry.terraform.io/integrations/github\"]",
+      "instances": [
+        {
+          "schema_version": 0,
+          "attributes": {
+            "created_at": "2024-02-23 15:43:26 +0000 UTC",
+            "encrypted_value": "",
+            "id": "APP_ID",
+            "plaintext_value": "828233",
+            "secret_name": "APP_ID",
+            "selected_repository_ids": null,
+            "updated_at": "2024-02-23 16:04:30 +0000 UTC",
+            "visibility": "all"
+          },
+          "sensitive_attributes": [],
+          "private": "bnVsbA=="
+        }
+      ]
+    },
+    {
+      "mode": "managed",
+      "type": "github_actions_organization_secret",
+      "name": "github_azure_client_id",
+      "provider": "provider[\"registry.terraform.io/integrations/github\"]",
+      "instances": [
+        {
+          "schema_version": 0,
+          "attributes": {
+            "created_at": "2024-02-19 17:22:35 +0000 UTC",
+            "encrypted_value": "",
+            "id": "AZURE_CLIENT_ID",
+            "plaintext_value": "f2bece22-8055-4579-af8a-1220755d2cc3",
+            "secret_name": "AZURE_CLIENT_ID",
+            "selected_repository_ids": null,
+            "updated_at": "2024-02-23 16:04:26 +0000 UTC",
+            "visibility": "all"
+          },
+          "sensitive_attributes": [],
+          "private": "bnVsbA=="
+        }
+      ]
+    },
+    {
+      "mode": "managed",
+      "type": "github_actions_organization_secret",
+      "name": "github_azure_client_secret",
+      "provider": "provider[\"registry.terraform.io/integrations/github\"]",
+      "instances": [
+        {
+          "schema_version": 0,
+          "attributes": {
+            "created_at": "2024-02-19 17:22:42 +0000 UTC",
+            "encrypted_value": "",
+            "id": "AZURE_CLIENT_SECRET",
+            "plaintext_value": "FGa8Q~FgW1XGAzuQ-o.kVKAB1BQbsiyrh_suYbvC",
+            "secret_name": "AZURE_CLIENT_SECRET",
+            "selected_repository_ids": null,
+            "updated_at": "2024-02-23 16:04:37 +0000 UTC",
+            "visibility": "all"
+          },
+          "sensitive_attributes": [],
+          "private": "bnVsbA=="
+        }
+      ]
+    },
+    {
+      "mode": "managed",
+      "type": "github_actions_organization_secret",
+      "name": "github_azure_subscription_id",
+      "provider": "provider[\"registry.terraform.io/integrations/github\"]",
+      "instances": [
+        {
+          "schema_version": 0,
+          "attributes": {
+            "created_at": "2024-02-19 17:22:36 +0000 UTC",
+            "encrypted_value": "",
+            "id": "AZURE_SUBSCRIPTION_ID",
+            "plaintext_value": "70e356bf-9061-41cb-8a82-d3fe0361603b",
+            "secret_name": "AZURE_SUBSCRIPTION_ID",
+            "selected_repository_ids": null,
+            "updated_at": "2024-02-23 16:04:27 +0000 UTC",
+            "visibility": "all"
+          },
+          "sensitive_attributes": [],
+          "private": "bnVsbA=="
+        }
+      ]
+    },
+    {
+      "mode": "managed",
+      "type": "github_actions_organization_secret",
+      "name": "github_azure_tenant_id",
+      "provider": "provider[\"registry.terraform.io/integrations/github\"]",
+      "instances": [
+        {
+          "schema_version": 0,
+          "attributes": {
+            "created_at": "2024-02-19 17:22:34 +0000 UTC",
+            "encrypted_value": "",
+            "id": "AZURE_TENANT_ID",
+            "plaintext_value": "eb25818e-5bd5-49bf-99de-53e3e7b42630",
+            "secret_name": "AZURE_TENANT_ID",
+            "selected_repository_ids": null,
+            "updated_at": "2024-02-23 16:04:28 +0000 UTC",
+            "visibility": "all"
+          },
+          "sensitive_attributes": [],
+          "private": "bnVsbA=="
+        }
+      ]
+    },
+    {
+      "mode": "managed",
+      "type": "github_actions_organization_secret",
+      "name": "github_techdocs_container_name",
+      "provider": "provider[\"registry.terraform.io/integrations/github\"]",
+      "instances": [
+        {
+          "schema_version": 0,
+          "attributes": {
+            "created_at": "2024-02-21 18:03:30 +0000 UTC",
+            "encrypted_value": "",
+            "id": "TECHDOCS_CONTAINER_NAME",
+            "plaintext_value": "prodernibackstagetechdocs",
+            "secret_name": "TECHDOCS_CONTAINER_NAME",
+            "selected_repository_ids": null,
+            "updated_at": "2024-02-23 16:05:11 +0000 UTC",
+            "visibility": "all"
+          },
+          "sensitive_attributes": [],
+          "private": "bnVsbA==",
+          "dependencies": [
+            "azurerm_resource_group.backstage_rg",
+            "azurerm_storage_account.techdocs_storage",
+            "azurerm_storage_container.techdocs_storage_container"
+          ]
+        }
+      ]
+    },
+    {
+      "mode": "managed",
+      "type": "github_actions_organization_secret",
+      "name": "github_techdocs_storage_account_name",
+      "provider": "provider[\"registry.terraform.io/integrations/github\"]",
+      "instances": [
+        {
+          "schema_version": 0,
+          "attributes": {
+            "created_at": "2024-02-21 18:03:28 +0000 UTC",
+            "encrypted_value": "",
+            "id": "TECHDOCS_STORAGE_ACCOUNT",
+            "plaintext_value": "prodernibackstagestorage",
+            "secret_name": "TECHDOCS_STORAGE_ACCOUNT",
+            "selected_repository_ids": null,
+            "updated_at": "2024-02-23 16:05:10 +0000 UTC",
+            "visibility": "all"
+          },
+          "sensitive_attributes": [],
+          "private": "bnVsbA==",
+          "dependencies": [
+            "azurerm_resource_group.backstage_rg",
+            "azurerm_storage_account.techdocs_storage"
+          ]
+        }
+      ]
+    },
+    {
+      "mode": "managed",
+      "type": "github_actions_organization_secret",
+      "name": "registry_login_server",
+      "provider": "provider[\"registry.terraform.io/integrations/github\"]",
+      "instances": [
+        {
+          "schema_version": 0,
+          "attributes": {
+            "created_at": "2024-02-19 17:22:40 +0000 UTC",
+            "encrypted_value": "",
+            "id": "REGISTRY_LOGIN_SERVER",
+            "plaintext_value": "backstagecontainer.azurecr.io",
+            "secret_name": "REGISTRY_LOGIN_SERVER",
+            "selected_repository_ids": null,
+            "updated_at": "2024-02-23 16:04:24 +0000 UTC",
+            "visibility": "all"
+          },
+          "sensitive_attributes": [],
+          "private": "bnVsbA=="
+        }
+      ]
+    },
+    {
+      "mode": "managed",
+      "type": "github_actions_organization_secret",
+      "name": "registry_password",
+      "provider": "provider[\"registry.terraform.io/integrations/github\"]",
+      "instances": [
+        {
+          "schema_version": 0,
+          "attributes": {
+            "created_at": "2024-02-19 17:22:44 +0000 UTC",
+            "encrypted_value": "",
+            "id": "REGISTRY_PASSWORD",
+            "plaintext_value": "X4DG/cisOtQf634v2RC6T7LF1U4R7IDM3TB7MRoInX+ACRA/y6Ls",
+            "secret_name": "REGISTRY_PASSWORD",
+            "selected_repository_ids": null,
+            "updated_at": "2024-02-23 16:04:33 +0000 UTC",
+            "visibility": "all"
+          },
+          "sensitive_attributes": [],
+          "private": "bnVsbA=="
+        }
+      ]
+    },
+    {
+      "mode": "managed",
+      "type": "github_actions_organization_secret",
+      "name": "registry_username",
+      "provider": "provider[\"registry.terraform.io/integrations/github\"]",
+      "instances": [
+        {
+          "schema_version": 0,
+          "attributes": {
+            "created_at": "2024-02-19 17:22:41 +0000 UTC",
+            "encrypted_value": "",
+            "id": "REGISTRY_USERNAME",
+            "plaintext_value": "backstagecontainer",
+            "secret_name": "REGISTRY_USERNAME",
+            "selected_repository_ids": null,
+            "updated_at": "2024-02-23 16:04:43 +0000 UTC",
+            "visibility": "all"
+          },
+          "sensitive_attributes": [],
+          "private": "bnVsbA=="
+        }
+      ]
+    },
+    {
+      "mode": "managed",
+      "type": "github_actions_secret",
+      "name": "app_name",
+      "provider": "provider[\"registry.terraform.io/integrations/github\"]",
+      "instances": [
+        {
+          "schema_version": 0,
+          "attributes": {
+            "created_at": "2024-02-23 15:47:40 +0000 UTC",
+            "encrypted_value": "",
+            "id": "erni-backstage:APP_NAME",
+            "plaintext_value": "prodernibackstageapp",
+            "repository": "erni-backstage",
+            "secret_name": "APP_NAME",
+            "updated_at": "2024-02-23 16:09:15 +0000 UTC"
+          },
+          "sensitive_attributes": [],
+          "private": "bnVsbA==",
+          "dependencies": [
+            "azurerm_app_service.backstage_app",
+            "azurerm_app_service_plan.backstage_app_plan",
+            "azurerm_application_insights.app_insights",
+            "azurerm_postgresql_server.backstage_postgresql",
+            "azurerm_resource_group.backstage_rg",
+            "azurerm_storage_account.techdocs_storage",
+            "azurerm_storage_container.techdocs_storage_container"
+          ]
+        }
+      ]
+    },
+    {
+      "mode": "managed",
+      "type": "github_actions_secret",
+      "name": "azure_credentials",
+      "provider": "provider[\"registry.terraform.io/integrations/github\"]",
+      "instances": [
+        {
+          "schema_version": 0,
+          "attributes": {
+            "created_at": "2024-02-23 15:43:33 +0000 UTC",
+            "encrypted_value": "",
+            "id": "erni-backstage:AZURE_CREDENTIALS",
+            "plaintext_value": "{\"clientId\":\"f2bece22-8055-4579-af8a-1220755d2cc3\",\"clientSecret\":\"FGa8Q~FgW1XGAzuQ-o.kVKAB1BQbsiyrh_suYbvC\",\"subscriptionId\":\"70e356bf-9061-41cb-8a82-d3fe0361603b\",\"tenantId\":\"eb25818e-5bd5-49bf-99de-53e3e7b42630\"}",
+            "repository": "erni-backstage",
+            "secret_name": "AZURE_CREDENTIALS",
+            "updated_at": "2024-02-23 16:04:35 +0000 UTC"
+          },
+          "sensitive_attributes": [],
+          "private": "bnVsbA=="
+        }
+      ]
+    }
+  ],
+  "check_results": null
+}
Index: .idea/workspace.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<project version=\"4\">\n  <component name=\"AutoImportSettings\">\n    <option name=\"autoReloadType\" value=\"SELECTIVE\" />\n  </component>\n  <component name=\"ChangeListManager\">\n    <list default=\"true\" id=\"afdba59f-0618-4910-9b9c-8ff533b500a0\" name=\"Changes\" comment=\"first upload\">\n      <change afterPath=\"$PROJECT_DIR$/.terraform.lock.hcl\" afterDir=\"false\" />\n      <change afterPath=\"$PROJECT_DIR$/terraform.tfstate\" afterDir=\"false\" />\n      <change beforePath=\"$PROJECT_DIR$/main.tf\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/main.tf\" afterDir=\"false\" />\n      <change beforePath=\"$PROJECT_DIR$/outputs.tf\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/outputs.tf\" afterDir=\"false\" />\n      <change beforePath=\"$PROJECT_DIR$/vars.tf\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/vars.tf\" afterDir=\"false\" />\n    </list>\n    <option name=\"SHOW_DIALOG\" value=\"false\" />\n    <option name=\"HIGHLIGHT_CONFLICTS\" value=\"true\" />\n    <option name=\"HIGHLIGHT_NON_ACTIVE_CHANGELIST\" value=\"false\" />\n    <option name=\"LAST_RESOLUTION\" value=\"IGNORE\" />\n  </component>\n  <component name=\"Git.Settings\">\n    <option name=\"RECENT_GIT_ROOT_PATH\" value=\"$PROJECT_DIR$\" />\n  </component>\n  <component name=\"MarkdownSettingsMigration\">\n    <option name=\"stateVersion\" value=\"1\" />\n  </component>\n  <component name=\"ProjectColorInfo\">{\n  &quot;associatedIndex&quot;: 4\n}</component>\n  <component name=\"ProjectId\" id=\"2clFGkm1slaVkJUi8UbZdsclkIy\" />\n  <component name=\"ProjectLevelVcsManager\">\n    <ConfirmationsSetting value=\"2\" id=\"Add\" />\n  </component>\n  <component name=\"ProjectViewState\">\n    <option name=\"hideEmptyMiddlePackages\" value=\"true\" />\n    <option name=\"showLibraryContents\" value=\"true\" />\n  </component>\n  <component name=\"PropertiesComponent\"><![CDATA[{\n  \"keyToString\": {\n    \"ASKED_ADD_EXTERNAL_FILES\": \"true\",\n    \"RunOnceActivity.OpenProjectViewOnStart\": \"true\",\n    \"RunOnceActivity.ShowReadmeOnStart\": \"true\",\n    \"WebServerToolWindowFactoryState\": \"false\",\n    \"git-widget-placeholder\": \"master\",\n    \"last_opened_file_path\": \"/Users/davidcarmonamaroto/Projects/erni-backstage\",\n    \"node.js.detected.package.eslint\": \"true\",\n    \"node.js.detected.package.tslint\": \"true\",\n    \"node.js.selected.package.eslint\": \"(autodetect)\",\n    \"node.js.selected.package.tslint\": \"(autodetect)\",\n    \"nodejs_package_manager_path\": \"npm\",\n    \"ts.external.directory.path\": \"/Users/davidcarmonamaroto/Projects/erni-backstage/node_modules/typescript/lib\",\n    \"vue.rearranger.settings.migration\": \"true\"\n  }\n}]]></component>\n  <component name=\"RecentsManager\">\n    <key name=\"CopyFile.RECENT_KEYS\">\n      <recent name=\"$PROJECT_DIR$\" />\n    </key>\n    <key name=\"MoveFile.RECENT_KEYS\">\n      <recent name=\"$PROJECT_DIR$\" />\n      <recent name=\"$PROJECT_DIR$/terraform\" />\n    </key>\n  </component>\n  <component name=\"SpellCheckerSettings\" RuntimeDictionaries=\"0\" Folders=\"0\" CustomDictionaries=\"0\" DefaultDictionary=\"application-level\" UseSingleDictionary=\"true\" transferred=\"true\" />\n  <component name=\"SwiftWorkspaceSettings\">\n    <option name=\"detectedToolchain\" value=\"true\" />\n    <option name=\"toolchainPathValue\" value=\"/Library/Developer/CommandLineTools\" />\n  </component>\n  <component name=\"TaskManager\">\n    <task active=\"true\" id=\"Default\" summary=\"Default task\">\n      <changelist id=\"afdba59f-0618-4910-9b9c-8ff533b500a0\" name=\"Changes\" comment=\"\" />\n      <created>1708678164684</created>\n      <option name=\"number\" value=\"Default\" />\n      <option name=\"presentableId\" value=\"Default\" />\n      <updated>1708678164684</updated>\n      <workItem from=\"1708678166825\" duration=\"643000\" />\n      <workItem from=\"1708682587738\" duration=\"3452000\" />\n      <workItem from=\"1708686270807\" duration=\"11885000\" />\n    </task>\n    <task id=\"LOCAL-00001\" summary=\"erfg\">\n      <option name=\"closed\" value=\"true\" />\n      <created>1708686483025</created>\n      <option name=\"number\" value=\"00001\" />\n      <option name=\"presentableId\" value=\"LOCAL-00001\" />\n      <option name=\"project\" value=\"LOCAL\" />\n      <updated>1708686483025</updated>\n    </task>\n    <task id=\"LOCAL-00002\" summary=\"erfg\">\n      <option name=\"closed\" value=\"true\" />\n      <created>1708686597329</created>\n      <option name=\"number\" value=\"00002\" />\n      <option name=\"presentableId\" value=\"LOCAL-00002\" />\n      <option name=\"project\" value=\"LOCAL\" />\n      <updated>1708686597330</updated>\n    </task>\n    <task id=\"LOCAL-00003\" summary=\"first upload\">\n      <option name=\"closed\" value=\"true\" />\n      <created>1708705057304</created>\n      <option name=\"number\" value=\"00003\" />\n      <option name=\"presentableId\" value=\"LOCAL-00003\" />\n      <option name=\"project\" value=\"LOCAL\" />\n      <updated>1708705057304</updated>\n    </task>\n    <option name=\"localTasksCounter\" value=\"4\" />\n    <servers />\n  </component>\n  <component name=\"TypeScriptGeneratedFilesManager\">\n    <option name=\"version\" value=\"3\" />\n  </component>\n  <component name=\"Vcs.Log.Tabs.Properties\">\n    <option name=\"TAB_STATES\">\n      <map>\n        <entry key=\"MAIN\">\n          <value>\n            <State />\n          </value>\n        </entry>\n      </map>\n    </option>\n  </component>\n  <component name=\"VcsManagerConfiguration\">\n    <option name=\"ADD_EXTERNAL_FILES_SILENTLY\" value=\"true\" />\n    <MESSAGE value=\"erfg\" />\n    <MESSAGE value=\"first upload\" />\n    <option name=\"LAST_COMMIT_MESSAGE\" value=\"first upload\" />\n  </component>\n</project>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/.idea/workspace.xml b/.idea/workspace.xml
--- a/.idea/workspace.xml	(revision ca01918ebe7d65815c2385d62aa7f09c241549e0)
+++ b/.idea/workspace.xml	(date 1708705773641)
@@ -4,9 +4,10 @@
     <option name="autoReloadType" value="SELECTIVE" />
   </component>
   <component name="ChangeListManager">
-    <list default="true" id="afdba59f-0618-4910-9b9c-8ff533b500a0" name="Changes" comment="first upload">
+    <list default="true" id="afdba59f-0618-4910-9b9c-8ff533b500a0" name="Changes" comment="first upload 3">
       <change afterPath="$PROJECT_DIR$/.terraform.lock.hcl" afterDir="false" />
       <change afterPath="$PROJECT_DIR$/terraform.tfstate" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/.idea/workspace.xml" beforeDir="false" afterPath="$PROJECT_DIR$/.idea/workspace.xml" afterDir="false" />
       <change beforePath="$PROJECT_DIR$/main.tf" beforeDir="false" afterPath="$PROJECT_DIR$/main.tf" afterDir="false" />
       <change beforePath="$PROJECT_DIR$/outputs.tf" beforeDir="false" afterPath="$PROJECT_DIR$/outputs.tf" afterDir="false" />
       <change beforePath="$PROJECT_DIR$/vars.tf" beforeDir="false" afterPath="$PROJECT_DIR$/vars.tf" afterDir="false" />
@@ -73,7 +74,7 @@
       <updated>1708678164684</updated>
       <workItem from="1708678166825" duration="643000" />
       <workItem from="1708682587738" duration="3452000" />
-      <workItem from="1708686270807" duration="11885000" />
+      <workItem from="1708686270807" duration="12517000" />
     </task>
     <task id="LOCAL-00001" summary="erfg">
       <option name="closed" value="true" />
@@ -99,7 +100,23 @@
       <option name="project" value="LOCAL" />
       <updated>1708705057304</updated>
     </task>
-    <option name="localTasksCounter" value="4" />
+    <task id="LOCAL-00004" summary="first upload 2">
+      <option name="closed" value="true" />
+      <created>1708705293637</created>
+      <option name="number" value="00004" />
+      <option name="presentableId" value="LOCAL-00004" />
+      <option name="project" value="LOCAL" />
+      <updated>1708705293637</updated>
+    </task>
+    <task id="LOCAL-00005" summary="first upload 3">
+      <option name="closed" value="true" />
+      <created>1708705368328</created>
+      <option name="number" value="00005" />
+      <option name="presentableId" value="LOCAL-00005" />
+      <option name="project" value="LOCAL" />
+      <updated>1708705368328</updated>
+    </task>
+    <option name="localTasksCounter" value="6" />
     <servers />
   </component>
   <component name="TypeScriptGeneratedFilesManager">
@@ -120,6 +137,8 @@
     <option name="ADD_EXTERNAL_FILES_SILENTLY" value="true" />
     <MESSAGE value="erfg" />
     <MESSAGE value="first upload" />
-    <option name="LAST_COMMIT_MESSAGE" value="first upload" />
+    <MESSAGE value="first upload 2" />
+    <MESSAGE value="first upload 3" />
+    <option name="LAST_COMMIT_MESSAGE" value="first upload 3" />
   </component>
 </project>
\ No newline at end of file
